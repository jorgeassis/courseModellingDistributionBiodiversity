% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/studyRegion.R
\name{studyRegion}
\alias{studyRegion}
\title{Define Study Region Mask Based on Multiple Criteria}
\usage{
studyRegion(
  rasterLayers,
  presences,
  distanceThreshold = 2e+05,
  bathymetryLayer = NULL,
  depthPref = NULL,
  intertidalLayer = NULL,
  maskPolygon = NULL,
  trimToRegion = TRUE
)
}
\arguments{
\item{rasterLayers}{A terra \code{SpatRaster} object. The first layer is used as a
template for the output geometry (extent, resolution, CRS) and initial
non-NA area. Must have a defined CRS.}

\item{presences}{A terra \code{SpatVector} object with point geometry. Required only
if \code{distanceThreshold} is specified. Must have the same CRS as \code{rasterLayers}.}

\item{distanceThreshold}{Numeric or NULL (Default: 200000). If numeric, defines
the maximum distance (in CRS units, typically meters) from presence points
to include in the study region. Cells outside this buffer will be masked out.
Setting to NULL disables this criterion. Requires projected CRS.}

\item{bathymetryLayer}{Optional. A \verb{terra SpatRaster} or a character string
path to a bathymetry raster file. Used with \code{depthPref}. Must have the
same CRS as \code{rasterLayers}.}

\item{depthPref}{Optional. A numeric vector of length 2: \code{c(min_depth, max_depth)}.
Defines the acceptable depth range. Values should typically be non-positive
(<= 0). Cells outside this depth range will be masked out. Requires
\code{bathymetryLayer} to be provided.}

\item{intertidalLayer}{Optional. A \verb{terra SpatRaster} or a character string
path to an intertidal zone raster file. Cells that are NA in this layer
(after cropping) will be masked out from the study region. Must have the
same CRS as \code{rasterLayers}.}

\item{maskPolygon}{Optional. A \verb{terra SpatVector} or \code{sf} polygon object.
Defines the outer boundary. Cells outside this polygon will be masked out.
Must have the same CRS as \code{rasterLayers}.}

\item{trimToRegion}{Logical (Default: TRUE). If TRUE, the final output mask
will be trimmed to the smallest extent containing non-NA cells using \code{terra::trim()}.}
}
\value{
A \verb{terra SpatRaster} mask with value 1 for cells within the finally
defined study region and NA elsewhere. It retains the CRS of the input \code{rasterLayers}.
Returns NULL or stops if essential inputs are missing or invalid.
}
\description{
Creates a spatial mask (SpatRaster with values 1 or NA) defining a study
region. The region is determined by the intersection (AND logic) of several
optional criteria: inclusion within a polygon mask, inclusion based on depth
preferences, inclusion based on an intertidal layer, and/or inclusion within
a specified distance threshold around presence points.
}
